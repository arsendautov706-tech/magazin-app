document.addEventListener('DOMContentLoaded', () => {
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º
  const tabs = document.querySelectorAll('.tab-content');
  const navBtns = document.querySelectorAll('.navbar .btn');

  function showTab(id) {
    tabs.forEach(tab => tab.style.display = 'none');
    const target = document.getElementById(id);
    if (target) target.style.display = 'block';
  }

  navBtns.forEach(btn => {
    btn.addEventListener('click', e => {
      e.preventDefault();
      showTab(btn.dataset.tab);
    });
  });

  showTab('features'); // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"

  // –ü–æ–ª–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫
  const detailData = {
    feature: {
      stock: `
        <h3>üì¶ –£—á—ë—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–∫–ª–∞–¥—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
        <p>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Å–∫–ª–∞–¥, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ—Å—Ç–∞—Ç–∫–∏ –∏ –¥–≤–∏–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
        <ul>
          <li>–ü—Ä–∏—ë–º–∫–∞ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ</li>
          <li>–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è</li>
          <li>–ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏—è</li>
        </ul>
      `,
      crm: `
        <h3>ü§ù CRM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏</h3>
        <p>–í–µ–¥–∏—Ç–µ –±–∞–∑—É –∫–ª–∏–µ–Ω—Ç–æ–≤, —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ —Å–¥–µ–ª–∫–∏ –∏ —Å—Ç—Ä–æ–π—Ç–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.</p>
        <ul>
          <li>–ö–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤</li>
          <li>–ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π</li>
          <li>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –∑–∞–¥–∞—á–∏</li>
        </ul>
      `,
      finance: `
        <h3>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç –∏ –æ—Ç—á—ë—Ç—ã</h3>
        <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –æ—Ç—á—ë—Ç—ã –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ –Ω–∞–ª–æ–≥–æ–≤–æ–π.</p>
        <ul>
          <li>–î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã</li>
          <li>–ë–∞–ª–∞–Ω—Å –∏ –∫–∞—Å—Å–∞</li>
          <li>–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤</li>
        </ul>
      `,
      marketplaces: `
        <h3>üõí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏</h3>
        <p>–ü–æ–¥–∫–ª—é—á–∞–π—Ç–µ Wildberries, Ozon –∏ –¥—Ä—É–≥–∏–µ –ø–ª–æ—â–∞–¥–∫–∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤.</p>
        <ul>
          <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</li>
          <li>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤</li>
          <li>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤</li>
        </ul>
      `
    },
    benefit: {
      retail: `
        <h3>üè¨ –†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</h3>
        <p>–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏.</p>
        <ul>
          <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Å–∞–º–∏</li>
          <li>–°–∫–∏–¥–∫–∏ –∏ –∞–∫—Ü–∏–∏</li>
          <li>–£—á—ë—Ç –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</li>
        </ul>
      `,
      wholesale: `
        <h3>üì¶ –û–ø—Ç–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</h3>
        <p>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–∫–ª–∞–¥—Å–∫–æ–π —É—á—ë—Ç –∏ –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≥—Ä—É–∑–∫–∏.</p>
        <ul>
          <li>–ü—Ä–∞–π—Å‚Äë–ª–∏—Å—Ç—ã</li>
          <li>–ì–∏–±–∫–∏–µ —É—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã</li>
          <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</li>
        </ul>
      `,
      online: `
        <h3>üõí –û–Ω–ª–∞–π–Ω‚Äë—Ç–æ—Ä–≥–æ–≤–ª—è</h3>
        <p>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ –∏ —É–¥–æ–±–Ω–∞—è CRM.</p>
        <ul>
          <li>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤</li>
          <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–æ–π</li>
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–Ω–ª–∞–π–Ω‚Äë–æ–ø–ª–∞—Ç—ã</li>
        </ul>
      `,
      manufacturing: `
        <h3>üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
        <p>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—ã—Ä—å—è –∏ –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏.</p>
        <ul>
          <li>–£—á—ë—Ç —Å—ã—Ä—å—è</li>
          <li>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã</li>
          <li>–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏</li>
        </ul>
      `
    },
    advantage: {
      cloud: `
        <h3>‚òÅÔ∏è –†–∞–±–æ—Ç–∞ –∏–∑ –æ–±–ª–∞–∫–∞</h3>
        <p>Magazin ERP –¥–æ—Å—Ç—É–ø–µ–Ω —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.</p>
        <ul>
          <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</li>
          <li>–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
          <li>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
        </ul>
      `,
      integrations: `
        <h3>üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h3>
        <p>–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏:</p>
        <ul>
          <li>–ö–∞—Å—Å—ã –∏ –æ–Ω–ª–∞–π–Ω‚Äë–æ–ø–ª–∞—Ç–∞</li>
          <li>CRM –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è</li>
          <li>–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã –∏ API</li>
        </ul>
      `,
      analytics: `
        <h3>üìä –û—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
        <p>–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –±–∏–∑–Ω–µ—Å–∞:</p>
        <ul>
          <li>–î–∞—à–±–æ—Ä–¥—ã KPI</li>
          <li>–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV</li>
          <li>–§–∏–ª—å—Ç—Ä—ã –∏ —Å–µ–≥–º–µ–Ω—Ç—ã</li>
        </ul>
      `,
      security: `
        <h3>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
        <p>–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π:</p>
        <ul>
          <li>SSL‚Äë—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</li>
          <li>–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</li>
          <li>–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</li>
        </ul>
      `
    }
  };

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫
  document.querySelectorAll('.chip-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.dataset.type;
      const key = btn.dataset.key;

      const targetBoxId =
        type === 'benefit' ? 'benefit-detail' :
        type === 'feature' ? 'feature-detail' : 'advantage-detail';

      const box = document.getElementById(targetBoxId);
      const parentSection = btn.closest('.tab-content');

      if (box.dataset.active === key) {
        parentSection.querySelector('.btn-group').style.display = 'flex';
        box.innerHTML = '';
        box.style.display = 'none';
        box.dataset.active = '';
      } else {
        parentSection.querySelector('.btn-group').style.display = 'none';
        box.innerHTML = detailData[type]?.[key] || '<p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è.</p>';
        box.style.display = 'block';
        box.dataset.active = key;
      }
    });
  });

  // –§—É—Ç–µ—Ä —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
  const footerText = document.getElementById("footer-text");
  if (footerText) {
    const now = new Date();
    const year = now.getFullYear();
    const time = now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
    footerText.textContent = `¬© ${year} Magazin ERP | –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${time}`;
  }
});
